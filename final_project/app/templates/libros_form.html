{% extends 'layout.html' %}
{% block content %}
<div class="container mt-4">
    <h2>{% if form.id.data %}Editar{% else %}Agregar{% endif %} Libro</h2>
    
    <form method="POST" class="mt-3">
        {{ form.hidden_tag() }}
        
        <div class="form-group mb-3">
            {{ form.titulo.label(class="form-label") }}
            {{ form.titulo(class="form-control") }}
            {% if form.titulo.errors %}
                <div class="invalid-feedback d-block">
                    {{ form.titulo.errors[0] }}
                </div>
            {% endif %}
        </div>

        <div class="form-group mb-3">
            {{ form.autor.label(class="form-label") }}
            {{ form.autor(class="form-control") }}
            {% if form.autor.errors %}
                <div class="invalid-feedback d-block">
                    {{ form.autor.errors[0] }}
                </div>
            {% endif %}
        </div>

        <div class="form-group mb-3">
            {{ form.isbn.label(class="form-label") }}
            {{ form.isbn(class="form-control") }}
            <small class="form-text text-muted">Formato: 10 o 13 d√≠gitos</small>
            {% if form.isbn.errors %}
                <div class="invalid-feedback d-block">
                    {{ form.isbn.errors[0] }}
                </div>
            {% endif %}
        </div>

        <div class="form-group mb-3">
            {{ form.fecha_publicacion.label(class="form-label") }}
            {{ form.fecha_publicacion(class="form-control") }}
            {% if form.fecha_publicacion.errors %}
                <div class="invalid-feedback d-block">
                    {{ form.fecha_publicacion.errors[0] }}
                </div>
            {% endif %}
        </div>

        <div class="form-group mb-3">
            {{ form.genero.label(class="form-label") }}
            {{ form.genero(class="form-select") }}
            {% if form.genero.errors %}
                <div class="invalid-feedback d-block">
                    {{ form.genero.errors[0] }}
                </div>
            {% endif %}
        </div>

        <div class="form-group mb-3 form-check">
            {{ form.disponibilidad(class="form-check-input") }}
            {{ form.disponibilidad.label(class="form-check-label") }}
        </div>

        <button type="submit" class="btn btn-primary">Guardar</button>
        <a href="{{ url_for('main.libros') }}" class="btn btn-secondary">Cancelar</a>
    </form>
</div>
{% endblock %}
{% block scripts %}